{"version":3,"file":"static/js/991.0fc13800.chunk.js","mappings":"mBAAA,SAASA,EAAQC,GAGf,OAAOD,EAAU,mBAAqBE,QAAU,iBAAmBA,OAAOC,SAAW,SAAUF,GAC7F,cAAcA,CAChB,EAAI,SAAUA,GACZ,OAAOA,GAAK,mBAAqBC,QAAUD,EAAEG,cAAgBF,QAAUD,IAAMC,OAAOG,UAAY,gBAAkBJ,CACpH,EAAGD,EAAQC,EACb,CCNA,SAASK,EAAcC,GACrB,IAAIC,ECFN,SAAqBD,EAAGE,GACtB,GAAI,UAAYT,EAAQO,KAAOA,EAAG,OAAOA,EACzC,IAAIG,EAAIH,EAAEL,OAAOS,aACjB,QAAI,IAAWD,EAAG,CAChB,IAAIF,EAAIE,EAAEE,KAAKL,EAAGE,GAAK,WACvB,GAAI,UAAYT,EAAQQ,GAAI,OAAOA,EACnC,MAAM,IAAIK,UAAU,+CACtB,CACA,OAAQ,WAAaJ,EAAIK,OAASC,QAAQR,EAC5C,CDPUI,CAAYJ,EAAG,UACvB,MAAO,UAAYP,EAAQQ,GAAKA,EAAIA,EAAI,EAC1C,CEJA,SAASQ,EAAgBN,EAAGD,EAAGF,GAC7B,OAAQE,EAAIH,EAAcG,MAAOC,EAAIO,OAAOC,eAAeR,EAAGD,EAAG,CAC/DU,MAAOZ,EACPa,YAAY,EACZC,cAAc,EACdC,UAAU,IACPZ,EAAED,GAAKF,EAAGG,CACjB,CCPA,SAASa,EAAQb,EAAGD,GAClB,IAAIF,EAAIU,OAAOO,KAAKd,GACpB,GAAIO,OAAOQ,sBAAuB,CAChC,IAAIxB,EAAIgB,OAAOQ,sBAAsBf,GACrCD,IAAMR,EAAIA,EAAEyB,OAAO,SAAUjB,GAC3B,OAAOQ,OAAOU,yBAAyBjB,EAAGD,GAAGW,UAC/C,IAAKb,EAAEqB,KAAKC,MAAMtB,EAAGN,EACvB,CACA,OAAOM,CACT,CACA,SAASuB,EAAepB,GACtB,IAAK,IAAID,EAAI,EAAGA,EAAIsB,UAAUC,OAAQvB,IAAK,CACzC,IAAIF,EAAI,MAAQwB,UAAUtB,GAAKsB,UAAUtB,GAAK,CAAC,EAC/CA,EAAI,EAAIc,EAAQN,OAAOV,IAAI,GAAI0B,QAAQ,SAAUxB,GAC/C,EAAeC,EAAGD,EAAGF,EAAEE,GACzB,GAAKQ,OAAOiB,0BAA4BjB,OAAOkB,iBAAiBzB,EAAGO,OAAOiB,0BAA0B3B,IAAMgB,EAAQN,OAAOV,IAAI0B,QAAQ,SAAUxB,GAC7IQ,OAAOC,eAAeR,EAAGD,EAAGQ,OAAOU,yBAAyBpB,EAAGE,GACjE,EACF,CACA,OAAOC,CACT,CCnBA,MAAM0B,EAAS,CAAC,EAEVC,EAAWA,CAACC,EAAKC,KACrB,MAAMC,EAAQ,GACd,IAAK,IAAI/B,EAAI,EAAGA,EAAI8B,EAAOP,OAAQvB,GAAK,EACtC,IAAK,IAAIgC,EAAI,EAAGA,EAAIF,EAAO9B,GAAGuB,OAAQS,GAAK,EACrCF,EAAO9B,GAAGgC,IACZD,EAAMZ,KAAK,CAAEc,IAAKjC,EAAGkC,IAAKF,IAKhCL,EAAOE,GAAO,CACZA,MACAC,SACAC,QACAI,OAAQL,EAAOP,OACfa,MAAON,EAAO,GAAGP,OACjBc,KAAMN,EAAMR,SAIhBK,EAAS,QAAS,CAAC,CAAC,KAEpBA,EAAS,UAAW,CAAC,CAAC,EAAG,KACzBA,EAAS,UAAW,CAAC,CAAC,GAAI,CAAC,KAE3BA,EAAS,UAAW,CAAC,CAAC,EAAG,EAAG,KAC5BA,EAAS,UAAW,CAAC,CAAC,GAAI,CAAC,GAAI,CAAC,KAEhCA,EAAS,SAAU,CACjB,CAAC,EAAG,GACJ,CAAC,EAAG,KAENA,EAAS,SAAU,CACjB,CAAC,EAAG,GACJ,CAAC,EAAG,KAENA,EAAS,SAAU,CACjB,CAAC,EAAG,GACJ,CAAC,EAAG,KAENA,EAAS,SAAU,CACjB,CAAC,EAAG,GACJ,CAAC,EAAG,KAGNA,EAAS,WAAY,CACnB,CAAC,EAAG,GACJ,CAAC,EAAG,KAGNA,EAAS,UAAW,CAAC,CAAC,EAAG,EAAG,EAAG,KAC/BA,EAAS,UAAW,CAAC,CAAC,GAAI,CAAC,GAAI,CAAC,GAAI,CAAC,KAErCA,EAAS,SAAU,CACjB,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,KAETA,EAAS,WAAY,CACnB,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,KAETA,EAAS,WAAY,CACnB,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,KAENA,EAAS,YAAa,CACpB,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,KAGNA,EAAS,cAAe,CACtB,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,KAENA,EAAS,cAAe,CACtB,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,KAENA,EAAS,cAAe,CACtB,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,KAENA,EAAS,cAAe,CACtB,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,KAGNA,EAAS,cAAe,CACtB,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,KAETA,EAAS,cAAe,CACtB,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,KAETA,EAAS,cAAe,CACtB,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,KAETA,EAAS,cAAe,CACtB,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,KAGTA,EAAS,SAAU,CACjB,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,KAGTA,EAAS,SAAU,CACjB,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,KAETA,EAAS,SAAU,CACjB,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,KAETA,EAAS,SAAU,CACjB,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,KAETA,EAAS,SAAU,CACjB,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,KAGTA,EAAS,SAAU,CACjB,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,KAETA,EAAS,YAAa,CACpB,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,KAETA,EAAS,WAAY,CACnB,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,KAETA,EAAS,WAAY,CACnB,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,KAGTA,EAAS,SAAU,CACjB,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,KAETA,EAAS,YAAa,CACpB,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,KAETA,EAAS,WAAY,CACnB,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,KAETA,EAAS,WAAY,CACnB,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,KAGTA,EAAS,WAAY,CACnB,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,KAETA,EAAS,SAAU,CACjB,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,KAETA,EAAS,WAAY,CACnB,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,KAENA,EAAS,YAAa,CACpB,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,KAINA,EAAS,YAAa,CACpB,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,KAGNA,EAAS,YAAa,CACpB,CAAC,EAAG,EAAG,EAAG,EAAG,GACb,CAAC,EAAG,EAAG,EAAG,EAAG,KAGfA,EAAS,WAAY,CACnB,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,KAENA,EAAS,WAAY,CACnB,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,KAGZA,EAAS,aAAc,CACrB,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,KAGTA,EAAS,WAAY,CACnB,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,KAGZA,EAAS,SAAU,CACjB,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,KAGZA,EAAS,WAAY,CACnB,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,KAGL,MAAMU,EAAcX,EC5PdY,GD6PgB/B,OAAOgC,OAAOb,GAAQc,IAAKC,IAAK,CAC3Db,IAAKa,EAAMb,IACXc,MAAM,GAADC,OAAKF,EAAMb,IAAG,MAAAe,OAAKF,EAAML,KAAI,WAClCA,KAAMK,EAAML,KACZP,OAAQY,EAAMZ,OACdM,MAAOM,EAAMN,MACbD,OAAQO,EAAMP,UCnQU,CACxBU,KAAM,CAAEF,MAAO,eAAMG,MAAO,UAAWC,OAAQ,GAAIC,SAAU,GAC7DC,KAAM,CAAEN,MAAO,eAAMG,MAAO,UAAWC,OAAQ,GAAIC,SAAU,GAC7DE,WAAY,CAAEP,MAAO,2BAAQG,MAAO,UAAWC,OAAQ,IAAKC,SAAU,GACtEG,OAAQ,CAAER,MAAO,qBAAOG,MAAO,UAAWC,OAAQ,IAAKC,SAAU,QCMtDI,EAAwBC,IACnC,IAAKA,GAAaA,EAAY,EAAG,OAAO,EACxC,MACMC,EADiBC,KAAKC,IAAIH,EAAW,IACZ,EAE/B,ODI4B,KCLT,EAAIE,KAAKE,MAAMH,EAAQ,KCQ/BI,EAAkBC,IAAsD,IAArD,KAAEC,EAAI,KAAEC,EAAI,QAAEC,EAAU,GAAE,OAAEC,EAAS,GAAE,KAAEC,GAAML,EAC7E,MAAMM,EAAaL,EAAOC,EAC1B,GAAII,GAAc,EAChB,MAXsB,CACxBC,WAAY,EACZC,UAAW,EACXC,WAAY,EACZC,WAAY,GACZC,eAAgB,IAShB,MAAMC,EAAWC,MAAMC,KAAK,CAAElD,OAAQqC,GAAQ,CAACc,EAAGzC,IAChDuC,MAAMC,KAAK,CAAElD,OAAQsC,GAAQ,CAACa,EAAGxC,IAjBlByC,EAAC1C,EAAKC,EAAK2B,IAAS,IAAMe,OAAO3C,EAAM4B,EAAO3B,GAiBpByC,CAAW1C,EAAKC,EAAK2B,KAG1DgB,EAAeL,MAAMC,KAAK,CAAElD,OAAQqC,GAAQ,IAAMY,MAAMX,GAAMiB,KAAK,IACnEC,EAAW,GACXC,EAAa,IAAIC,IACvB,IAAIC,EAAY,GAEZC,EAAc,GAElB,IAAK,IAAIlD,EAAM,EAAGA,EAAM2B,EAAM3B,GAAO,EACnC,IAAK,IAAIC,EAAM,EAAGA,EAAM2B,EAAM3B,GAAO,EAAG,CACtC,MAAMkD,EAAQnD,EAAM4B,EAAO3B,EACrBmD,EAAMd,EAAStC,GAAKC,GAC1B2C,EAAa5C,GAAKC,GAAOkD,EACzBL,EAASK,GAASC,EAClBL,EAAWM,IAAID,EAAKD,GACpBF,GAAaG,CACf,CAGFvB,EAAQtC,QAAQ+D,IAAmB,IAAlB,IAAEtD,EAAG,IAAEC,GAAKqD,EAC3B,GAAItD,GAAO,GAAKA,EAAM2B,GAAQ1B,GAAO,GAAKA,EAAM2B,EAAM,CACpD,MAAMwB,EAAMd,EAAStC,GAAKC,GAC1BiD,GAAeE,CACjB,IAGF,MAAMG,EAAkB,IAAIP,IAyCtBQ,EAAY,GAoDlB,GAnDA1B,EAAOvC,QAAQ,CAACkE,EAAOC,KACrB,IAAKD,GAASA,EAAM1B,OAASA,EAAM,OAEnC,MAAM4B,EAAWrC,KAAKsC,IAAI,EAAGvF,OAAOoF,EAAME,WAAa,GACvD,GAAIA,GAAY,EAAG,OAEnB,MAAMlD,EAAQJ,EAAYoD,EAAMI,UAChC,IAAKpD,EAAO,OAEZ,MAAMqD,EAAYxD,EAAWmD,EAAMM,OAC7BhD,EAAoB,OAAT+C,QAAS,IAATA,OAAS,EAATA,EAAW/C,SAC5B,GAAIA,GAAYN,EAAML,KAAOW,EAAU,OAEvC,MAAMqB,EAtDuB3B,KAC7B,GAAI8C,EAAgBS,IAAIvD,EAAMb,KAC5B,OAAO2D,EAAgBU,IAAIxD,EAAMb,KAGnC,MAAMwC,EAAa,GACnB,IAAK,IAAI8B,EAAW,EAAGA,GAAYvC,EAAOlB,EAAMP,OAAQgE,GAAY,EAClE,IAAK,IAAIC,EAAW,EAAGA,GAAYvC,EAAOnB,EAAMN,MAAOgE,GAAY,EAAG,CACpE,IAAIC,EAAO,GACX,MAAMC,EAAS,GACTC,EAAc,GACpB,IAAIC,GAAO,EAEX,IAAK,IAAIzG,EAAI,EAAGA,EAAI2C,EAAMX,MAAMR,OAAQxB,GAAK,EAAG,CAC9C,MAAM0G,EAAO/D,EAAMX,MAAMhC,GACnBkC,EAAMkE,EAAWM,EAAKxE,IACtBC,EAAMkE,EAAWK,EAAKvE,IACtBmD,EAAMd,EAAStC,GAAKC,GAC1B,GAA4B,MAAvBiD,EAAcE,GAAa,CAC9BmB,GAAO,EACP,KACF,CACAH,GAAQhB,EACRiB,EAAOnF,KAAK,CAACc,EAAKC,IAClBqE,EAAYpF,KAAK0D,EAAa5C,GAAKC,GACrC,CAEIsE,GACFnC,EAAWlD,KAAK,CAAEkF,OAAMtE,MAAOuE,EAAQC,eAE3C,CAIF,OADAf,EAAgBF,IAAI5C,EAAMb,IAAKwC,GACxBA,GAoBYqC,CAAsBhE,GACzC,IAAK2B,EAAW9C,OAAQ,OAExB,MAAMoF,EAA2B,WAAhBjB,EAAMM,MAGjBY,EAAoBD,EAAWpD,KAAKC,IAAIoC,EAAU,GAAKA,EAEvDzB,EDpHuB0C,EAACb,EAAO3C,KACvC,MAAMyD,EAAOvE,EAAWyD,GACxB,OAAKc,EACEA,EAAK/D,OAASM,EADH,GCkHEwD,CAAkBnB,EAAMM,MAAOtD,EAAML,MACjD0E,EAAQ,CACZC,IAAKtB,EAAMuB,IAAE,GAAArE,OAAO8C,EAAMI,SAAQ,KAAAlD,OAAI+C,GAEtCuB,SAAUP,EAAW,IAAMjB,EAAMwB,SACjClB,MAAON,EAAMM,MACbmB,YAAqB,OAATpB,QAAS,IAATA,OAAS,EAATA,EAAWpD,QAAS+C,EAAMM,MACtCF,SAAUJ,EAAMI,SAChBzD,KAAMK,EAAML,KACZ8B,YACAE,aACA+C,iBAAkB,IAAInC,IACtBoC,UAAWT,EACXU,KAAM,EAENX,YAGFtC,EAAW7C,QAAS+F,IAClBA,EAAUhB,YAAY/E,QAAS4D,IACxB2B,EAAMK,iBAAiBnB,IAAIb,IAC9B2B,EAAMK,iBAAiB9B,IAAIF,EAAO,IAEpC2B,EAAMK,iBAAiBlB,IAAId,GAAOjE,KAAKoG,OAI3C9B,EAAUtE,KAAK4F,MAGZtB,EAAUlE,OACb,MAzIsB,CACxB2C,WAAY,EACZC,UAAW,EACXC,WAAY,EACZC,WAAY,GACZC,eAAgB,IA0IhB,MAAMkD,EAAiB,IAAIhD,MAAMP,GAAYa,KAAK,GAClDW,EAAUjE,QAASuF,IACjBA,EAAM1C,WAAW7C,QAAS+F,IACxBA,EAAUhB,YAAY/E,QAAS4D,IAC7BoC,EAAepC,IAAU2B,EAAMM,gBASrC,MAAMI,EAAoB,CAAC,EAC3B,IAAIC,EAAkB,EACtBjC,EAAUjE,QAASuF,IACjBW,GAAmBX,EAAM5C,UAAY4C,EAAMM,UACtCN,EAAMJ,WACTc,EAAkBV,EAAMG,WACrBO,EAAkBV,EAAMG,WAAa,GAAKH,EAAM1E,KAAO0E,EAAMM,aAKpE5B,EAAUkC,KAAK,CAACC,EAAGC,IACbA,EAAExF,OAASuF,EAAEvF,KAAawF,EAAExF,KAAOuF,EAAEvF,KACrCwF,EAAE1D,YAAcyD,EAAEzD,UAAkB0D,EAAE1D,UAAYyD,EAAEzD,UACjDyD,EAAEV,SAASY,cAAcD,EAAEX,SAAU,UAG9C,MAAMa,EAAiB,CAAC,EAClBC,EAAkB,GACxB,IAAIC,EA/KoB,CACxB/D,WAAY,EACZC,UAAW,EACXC,WAAY,EACZC,WAAY,GACZC,eAAgB,IA2KhB,MAAM4D,EAAgB,IAAIjD,IAEpBkD,EAAYhE,IAChB,MAAM,WAAEiE,EAAU,UAAEC,GD7KSC,KAC/B,MAAMD,EAAY,GAClB,IAAIE,EAAQ,EAQZ,OAPA/H,OAAOgI,QAAQF,GAAa9G,QAAQiH,IAAwB,IAAtBvB,EAAUnF,GAAM0G,EACpD,MAAMC,EAAQtF,EAAqBrB,GAC/B2G,EAAQ,IACVL,EAAUlH,KAAK,CAAE+F,WAAUnF,MAAOwB,KAAKC,IAAIzB,EAAO,IAAK2G,UACvDH,GAASG,KAGN,CAAEN,WAAYG,EAAOF,cCmKQM,CAAiBZ,GAC7C7D,EAAaC,EAAYiE,EA5LV/D,MA6LjBH,EAAa+D,EAAW/D,aAC1B+D,EAAa,CACX/D,aACAC,YACAC,WAAYgE,EACZ/D,YAlMiBA,EAkMW2D,EAjMlC3D,EAAW5B,IAAKmG,GAACC,EAAAA,EAAA,GACZD,GAAC,IACJ7G,MAAO6G,EAAE7G,MAAMU,IAAIgG,IAAA,IAAEzI,EAAGgC,GAAEyG,EAAA,MAAK,CAACzI,EAAGgC,SAgM/BsC,eAAgB+D,KA0ChBS,EAAM,SAACC,EAAc5E,EAAW6E,GAA4C,IAA/BC,EAAU3H,UAAAC,OAAA,QAAA2H,IAAA5H,UAAA,GAAAA,UAAA,GAAG,EAAG6H,EAAK7H,UAAAC,OAAA,QAAA2H,IAAA5H,UAAA,GAAAA,UAAA,GAAG,EACzE,MACM8H,EAAkBjF,EAAY6E,EAvCbK,MACvB,IAAIC,EAAa,EAQjB,OAPA9I,OAAOO,KAAK0G,GAAmBjG,QAAS0F,IACtC,MAAMqC,EAAY9B,EAAkBP,GACpC,IAAKqC,EAAW,OAChB,MAAMC,EAASzB,EAAeb,IAAa,EACrCuC,EAASlG,KAAKC,IAAIgG,EAASD,EAAW,IAC5CD,GAAclG,EAAqBqG,GAAUrG,EAAqBoG,KAE7DF,GA6BiBD,GAExB,GAAID,GAAmBnB,EAAW/D,WAChC,OAIF,MAAMwF,EAAWX,EAAaY,SAAS,IAAM,IAAMV,EAC7CW,EAAW1B,EAAchC,IAAIwD,GACnC,GAAwB,qBAAbE,GAA4BR,GAAmBQ,EACxD,OAEF1B,EAAc5C,IAAIoE,EAAUN,GAE5BjB,EAAShE,GAET,MAAM0F,EAAW3E,GAAa6D,EAC9B,GAAiB,KAAbc,EACF,OAGF,MAAMC,EA/CiBD,KACvB,IAAIE,EAAU,GACVC,EAAY1J,OAAO2J,kBACvB,IAAK,IAAI7E,EAAQ,EAAGA,EAAQnB,EAAYmB,GAAS,EAAG,CAClD,MAAMC,EAAMN,EAASK,GACrB,GAAyB,MAApByE,EAAWxE,GAAa,SAC7B,MAAM6E,EAAQ1C,EAAepC,GAC7B,GAAc,IAAV8E,EAEF,OAAO7E,EAET,GAAI6E,EAAQF,IACVA,EAAYE,EACZH,EAAU1E,EACI,IAAV6E,GAAa,KAErB,CAEA,OAAOH,GAAYF,GAAYA,GA6BbM,CAAgBN,GAClC,GAAkB,KAAdC,EACF,OAGF,MAAMM,EAAcpF,EAAWkB,IAAI4D,GACnC,GAA2B,qBAAhBM,EAAX,CAQA,IAAK,IAAIC,EAAa,EAAGA,EAAa5E,EAAUlE,OAAQ8I,GAAc,EAAG,CACvE,MAAMtD,EAAQtB,EAAU4E,GACxB,GAAItD,EAAMM,WAAa,EAAG,SAG1B,GAAIN,EAAMJ,UAAYsC,GAAc,EAAG,SAEvC,MAAMqB,EAAgBvD,EAAMK,iBAAiBlB,IAAIkE,GACjD,GAAKE,GAAkBA,EAAc/I,OAErC,IAAK,IAAIxB,EAAI,EAAGA,EAAIuK,EAAc/I,OAAQxB,GAAK,EAAG,CAChD,MAAMwH,EAAY+C,EAAcvK,GAChC,GAAwC,MAAnCwH,EAAUlB,KAAO0C,GAAsB,SAE5ChC,EAAMM,WAAa,EACnB,MAAMkD,EAAW,GAAA3H,OAAMmE,EAAMC,IAAG,KAAApE,OAAImE,EAAMO,MAC1CP,EAAMO,MAAQ,EAETP,EAAMJ,WAEToB,EAAehB,EAAMG,WAAaa,EAAehB,EAAMG,WAAa,GAAKH,EAAM1E,KAC/EoF,EAAkBV,EAAMG,UAAY3D,KAAKsC,IACvC,GACC4B,EAAkBV,EAAMG,WAAa,GAAKH,EAAM1E,OAIrD2F,EAAgB7G,KAAK,CACnB8F,GAAIsD,EAEJ5H,MAAOoE,EAAMJ,SAAQ,GAAA/D,OACdmE,EAAMI,WAAU,UAAAvE,OAAMmE,EAAM1E,KAAI,aAAAO,OAChCmE,EAAMG,SAAQ,UAAAtE,OAAMmE,EAAMI,WAAU,UAAAvE,OAAMmE,EAAM1E,KAAI,UAC3D2D,MAAOe,EAAMf,MACbkB,SAAUH,EAAMG,SAChB/C,UAAW4C,EAAM5C,UACjB2B,SAAUiB,EAAMjB,SAChB/D,MAAOwF,EAAUxF,QAGnB,MAAMyI,EAAezB,EAAexB,EAAUlB,KACxCoE,EAAWtG,EAAY4C,EAAM5C,UAC7BuG,EAAa1B,EAAcjC,EAAM5C,UAEnC4C,EAAMJ,SACRmC,EAAI0B,EAAcC,EAAUC,EAAYzB,EAAa,EAAGE,EAAQ,GAEhEL,EAAI0B,EAAcC,EAAUC,EAAYzB,EAAYE,EAAQ,GAG9DnB,EAAgB2C,MAEX5D,EAAMJ,WACToB,EAAehB,EAAMG,WAAaH,EAAM1E,KACpC0F,EAAehB,EAAMG,WAAa,UAC7Ba,EAAehB,EAAMG,UAE9BO,EAAkBV,EAAMG,WACrBO,EAAkBV,EAAMG,WAAa,GAAKH,EAAM1E,MAGrD0E,EAAMO,MAAQ,EACdP,EAAMM,WAAa,CACrB,CACF,CAKAyB,EAAIC,EAAee,EAAW3F,EAAW6E,EAAaC,EAAYE,EAAQ,EA1E1E,MAFEL,EAAIC,EAAee,EAAW3F,EAAW6E,EAAaC,EAAYE,EAAQ,EA6E9E,EAIA,OAFAL,EAAI3D,EAAa,EAAGuC,EAAiB,EAAG,GAEjCO,GC5VT2C,KAAKC,UAAY,SAAUC,GACzB,MAAM,KAAElH,EAAI,KAAEC,EAAI,QAAEC,EAAO,OAAEC,EAAM,KAAEC,GAAS8G,EAAMC,KAE9CC,EAAStH,EAAgB,CAC7BE,OACAC,OACAC,UACAC,SACAC,SAGF4G,KAAKK,YAAY,CAAED,UACrB,C","sources":["../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","utils/sugar/shapes.js","constants/sugar.js","utils/sugar/score.js","utils/sugar/solver.js","utils/sugar/worker.js"],"sourcesContent":["function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nexport { _objectSpread2 as default };","// src/utils/sugar/shapes.js\n\nconst shapes = {};\n\nconst register = (key, matrix) => {\n  const cells = [];\n  for (let r = 0; r < matrix.length; r += 1) {\n    for (let c = 0; c < matrix[r].length; c += 1) {\n      if (matrix[r][c]) {\n        cells.push({ row: r, col: c });\n      }\n    }\n  }\n\n  shapes[key] = {\n    key,\n    matrix,\n    cells,\n    height: matrix.length,\n    width: matrix[0].length,\n    area: cells.length,\n  };\n};\n\nregister(\"1_dot\", [[1]]);\n\nregister(\"2_bar_h\", [[1, 1]]);\nregister(\"2_bar_v\", [[1], [1]]);\n\nregister(\"3_bar_h\", [[1, 1, 1]]);\nregister(\"3_bar_v\", [[1], [1], [1]]);\n\nregister(\"3_L_nw\", [\n  [1, 0],\n  [1, 1],\n]);\nregister(\"3_L_ne\", [\n  [0, 1],\n  [1, 1],\n]);\nregister(\"3_L_sw\", [\n  [1, 1],\n  [1, 0],\n]);\nregister(\"3_L_se\", [\n  [1, 1],\n  [0, 1],\n]);\n\nregister(\"4_square\", [\n  [1, 1],\n  [1, 1],\n]);\n\nregister(\"4_bar_h\", [[1, 1, 1, 1]]);\nregister(\"4_bar_v\", [[1], [1], [1], [1]]);\n\nregister(\"4_T_up\", [\n  [0, 1, 0],\n  [1, 1, 1],\n]);\nregister(\"4_T_down\", [\n  [1, 1, 1],\n  [0, 1, 0],\n]);\nregister(\"4_T_left\", [\n  [0, 1],\n  [1, 1],\n  [0, 1],\n]);\nregister(\"4_T_right\", [\n  [1, 0],\n  [1, 1],\n  [1, 0],\n]);\n\nregister(\"4_L_tall_sw\", [\n  [1, 0],\n  [1, 0],\n  [1, 1],\n]);\nregister(\"4_L_tall_se\", [\n  [0, 1],\n  [0, 1],\n  [1, 1],\n]);\nregister(\"4_L_tall_nw\", [\n  [1, 1],\n  [0, 1],\n  [0, 1],\n]);\nregister(\"4_L_tall_ne\", [\n  [1, 1],\n  [1, 0],\n  [1, 0],\n]);\n\nregister(\"4_L_wide_sw\", [\n  [1, 1, 1],\n  [1, 0, 0],\n]);\nregister(\"4_L_wide_se\", [\n  [1, 1, 1],\n  [0, 0, 1],\n]);\nregister(\"4_L_wide_nw\", [\n  [1, 0, 0],\n  [1, 1, 1],\n]);\nregister(\"4_L_wide_ne\", [\n  [0, 0, 1],\n  [1, 1, 1],\n]);\n\nregister(\"5_plus\", [\n  [0, 1, 0],\n  [1, 1, 1],\n  [0, 1, 0],\n]);\n\nregister(\"5_N_nw\", [\n  [0, 1, 1],\n  [0, 1, 0],\n  [1, 1, 0],\n]);\nregister(\"5_N_ne\", [\n  [1, 1, 0],\n  [0, 1, 0],\n  [0, 1, 1],\n]);\nregister(\"5_N_sw\", [\n  [1, 0, 0],\n  [1, 1, 1],\n  [0, 0, 1],\n]);\nregister(\"5_N_se\", [\n  [0, 0, 1],\n  [1, 1, 1],\n  [1, 0, 0],\n]);\n\nregister(\"5_L_up\", [\n  [1, 1, 1],\n  [1, 0, 0],\n  [1, 0, 0],\n]);\nregister(\"5_L_right\", [\n  [1, 1, 1],\n  [0, 0, 1],\n  [0, 0, 1],\n]);\nregister(\"5_L_down\", [\n  [1, 0, 0],\n  [1, 0, 0],\n  [1, 1, 1],\n]);\nregister(\"5_L_left\", [\n  [0, 0, 1],\n  [0, 0, 1],\n  [1, 1, 1],\n]);\n\nregister(\"5_T_up\", [\n  [1, 1, 1],\n  [0, 1, 0],\n  [0, 1, 0],\n]);\nregister(\"5_T_right\", [\n  [0, 0, 1],\n  [1, 1, 1],\n  [0, 0, 1],\n]);\nregister(\"5_T_down\", [\n  [0, 1, 0],\n  [0, 1, 0],\n  [1, 1, 1],\n]);\nregister(\"5_T_left\", [\n  [1, 0, 0],\n  [1, 1, 1],\n  [1, 0, 0],\n]);\n\nregister(\"5_U_down\", [\n  [1, 0, 1],\n  [1, 1, 1],\n]);\nregister(\"5_U_up\", [\n  [1, 1, 1],\n  [1, 0, 1],\n]);\nregister(\"5_U_left\", [\n  [1, 1],\n  [0, 1],\n  [1, 1],\n]);\nregister(\"5_U_right\", [\n  [1, 1],\n  [1, 0],\n  [1, 1],\n]);\n\n// 8ì¹¸ ëª¨ì–‘ë“¤ (ìœ ë‹ˆí¬ ë“±ê¸‰ìš©)\nregister(\"8_snake_v\", [\n  [1, 0],\n  [1, 1],\n  [1, 1],\n  [1, 1],\n  [0, 1],\n]);\n\nregister(\"8_snake_h\", [\n  [0, 1, 1, 1, 1],\n  [1, 1, 1, 1, 0],\n]);\n\nregister(\"8_rect_v\", [\n  [1, 1],\n  [1, 1],\n  [1, 1],\n  [1, 1],\n]);\nregister(\"8_rect_h\", [\n  [1, 1, 1, 1],\n  [1, 1, 1, 1],\n]);\n\nregister(\"8_plus_big\", [\n  [0, 1, 0],\n  [1, 1, 1],\n  [1, 1, 1],\n  [0, 1, 0],\n]);\n\nregister(\"8_ring_h\", [\n  [0, 1, 1, 0],\n  [1, 1, 1, 1],\n  [0, 1, 1, 0],\n]);\n\nregister(\"8_T_up\", [\n  [1, 1, 1, 1],\n  [0, 1, 1, 0],\n  [0, 1, 1, 0],\n]);\n\nregister(\"8_T_down\", [\n  [0, 1, 1, 0],\n  [0, 1, 1, 0],\n  [1, 1, 1, 1],\n]);\n\nexport const sugarShapes = shapes;\nexport const SHAPE_OPTIONS = Object.values(shapes).map((shape) => ({\n  key: shape.key,\n  label: `${shape.key} (${shape.area}ì¹¸)`,\n  area: shape.area,\n  matrix: shape.matrix,\n  width: shape.width,\n  height: shape.height,\n}));","export const GRADE_INFO = {\n  rare: { label: \"ë ˆì–´\", color: \"#3b82f6\", points: 30, maxCells: 3 },\n  epic: { label: \"ì—í”½\", color: \"#8b5cf6\", points: 60, maxCells: 4 },\n  super_epic: { label: \"ìŠˆí¼ì—í”½\", color: \"#ef4444\", points: 120, maxCells: 5 },\n  unique: { label: \"ìœ ë‹ˆí¬\", color: \"#facc15\", points: 250, maxCells: null },\n};\n\nexport const ROLE_LABELS = {\n  dealer: \"ë”œëŸ¬\",\n  striker: \"ìŠ¤íŠ¸ë¼ì´ì»¤\",\n  supporter: \"ì„œí¬í„°\",\n};\n\nexport const ROLE_MODIFIERS = {\n  dealer: [\"ê´‘íœ˜\", \"ê´€í†µ\"],\n  striker: [\"ì›ì†Œ\", \"íŒŒì‡„\"],\n  supporter: [\"ì¶•ë³µ\", \"ìž¬ìƒ\", \"ë‚™ì¸\"],\n};\n\nexport const BONUS_PER_STEP = 265;\n","// src/utils/sugar/score.js\n\nimport { BONUS_PER_STEP, GRADE_INFO } from \"../../constants/sugar\";\n\nexport const getPieceBaseScore = (grade, cellCount) => {\n  const info = GRADE_INFO[grade];\n  if (!info) return 0;\n  return info.points * cellCount;\n};\n\nexport const getBonusFromModifier = (cellCount) => {\n  if (!cellCount || cellCount < 9) return 0;\n  const effectiveCells = Math.min(cellCount, 21);\n  const extra = effectiveCells - 9;\n  const bonusCount = 1 + Math.floor(extra / 3);\n  return bonusCount * BONUS_PER_STEP;\n};\n\n// âœ… ìˆ˜ì •: ìœ ë‹ˆí¬ ë“±ê¸‰ì€ ìˆ˜ì‹ì–´ ë³´ë„ˆìŠ¤ê°€ ì—†ìœ¼ë¯€ë¡œ, summarizeBonuses í•¨ìˆ˜ëŠ” ê¸°ì¡´ ë¡œì§ ìœ ì§€\n// (solver.jsì—ì„œ modifierPotential, modifierTotalsë¥¼ ê³„ì‚°í•  ë•Œ ìœ ë‹ˆí¬ë¥¼ ì œì™¸í•˜ë©´ ì¶©ë¶„)\nexport const summarizeBonuses = (modifierMap) => {\n  const breakdown = [];\n  let total = 0;\n  Object.entries(modifierMap).forEach(([modifier, cells]) => {\n    const bonus = getBonusFromModifier(cells);\n    if (bonus > 0) {\n      breakdown.push({ modifier, cells: Math.min(cells, 21), bonus });\n      total += bonus;\n    }\n  });\n  return { totalBonus: total, breakdown };\n};","// src/utils/sugar/solver.js\n\nimport { sugarShapes } from \"./shapes\";\nimport { getPieceBaseScore, summarizeBonuses, getBonusFromModifier } from \"./score\";\nimport { GRADE_INFO } from \"../../constants/sugar\";\n\nconst clonePlacements = (placements) =>\n  placements.map((p) => ({\n    ...p,\n    cells: p.cells.map(([r, c]) => [r, c]),\n  }));\n\nconst bitForCell = (row, col, cols) => 1n << BigInt(row * cols + col);\n\nconst createEmptyResult = () => ({\n  totalScore: 0,\n  baseScore: 0,\n  bonusScore: 0,\n  placements: [],\n  bonusBreakdown: [],\n});\n\nexport const solveSugarBoard = ({ rows, cols, blocked = [], pieces = [], role }) => {\n  const totalCells = rows * cols;\n  if (totalCells <= 0) {\n    return createEmptyResult();\n  }\n\n  const bitCache = Array.from({ length: rows }, (_, row) =>\n    Array.from({ length: cols }, (_, col) => bitForCell(row, col, cols))\n  );\n\n  const cellIndexMap = Array.from({ length: rows }, () => Array(cols).fill(0));\n  const cellBits = [];\n  const bitToIndex = new Map();\n  let boardMask = 0n;\n\n  let blockedMask = 0n;\n\n  for (let row = 0; row < rows; row += 1) {\n    for (let col = 0; col < cols; col += 1) {\n      const index = row * cols + col;\n      const bit = bitCache[row][col];\n      cellIndexMap[row][col] = index;\n      cellBits[index] = bit;\n      bitToIndex.set(bit, index);\n      boardMask |= bit;\n    }\n  }\n\n  blocked.forEach(({ row, col }) => {\n    if (row >= 0 && row < rows && col >= 0 && col < cols) {\n      const bit = bitCache[row][col];\n      blockedMask |= bit;\n    }\n  });\n\n  const placementsCache = new Map();\n  const getPlacementsForShape = (shape) => {\n    if (placementsCache.has(shape.key)) {\n      return placementsCache.get(shape.key);\n    }\n\n    const placements = [];\n    for (let startRow = 0; startRow <= rows - shape.height; startRow += 1) {\n      for (let startCol = 0; startCol <= cols - shape.width; startCol += 1) {\n        let mask = 0n;\n        const coords = [];\n        const cellIndexes = [];\n        let fits = true;\n\n        for (let i = 0; i < shape.cells.length; i += 1) {\n          const cell = shape.cells[i];\n          const row = startRow + cell.row;\n          const col = startCol + cell.col;\n          const bit = bitCache[row][col];\n          if ((blockedMask & bit) !== 0n) {\n            fits = false;\n            break;\n          }\n          mask |= bit;\n          coords.push([row, col]);\n          cellIndexes.push(cellIndexMap[row][col]);\n        }\n\n        if (fits) {\n          placements.push({ mask, cells: coords, cellIndexes });\n        }\n      }\n    }\n\n    placementsCache.set(shape.key, placements);\n    return placements;\n  };\n\n  // -----------------------------\n  // Piece pool êµ¬ì„±\n  // -----------------------------\n  const piecePool = [];\n  pieces.forEach((piece, pieceIndex) => {\n    if (!piece || piece.role !== role) return;\n\n    const quantity = Math.max(0, Number(piece.quantity) || 0);\n    if (quantity <= 0) return;\n\n    const shape = sugarShapes[piece.shapeKey];\n    if (!shape) return;\n\n    const gradeInfo = GRADE_INFO[piece.grade];\n    const maxCells = gradeInfo?.maxCells;\n    if (maxCells && shape.area > maxCells) return;\n\n    const placements = getPlacementsForShape(shape);\n    if (!placements.length) return;\n\n    const isUnique = piece.grade === \"unique\";\n\n    // âœ… ìœ ë‹ˆí¬ëŠ” ìµœëŒ€ 1ê°œë§Œ ì‚¬ìš© ê°€ëŠ¥\n    const effectiveQuantity = isUnique ? Math.min(quantity, 1) : quantity;\n\n    const baseScore = getPieceBaseScore(piece.grade, shape.area);\n    const entry = {\n      uid: piece.id || `${piece.shapeKey}-${pieceIndex}`,\n      // âœ… ìœ ë‹ˆí¬ëŠ” ìˆ˜ì‹ì–´ê°€ ì—†ìœ¼ë¯€ë¡œ \"-\"ë¡œ ê³ ì •(í‘œì‹œìš©)\n      modifier: isUnique ? \"-\" : piece.modifier,\n      grade: piece.grade,\n      gradeLabel: gradeInfo?.label || piece.grade,\n      shapeKey: piece.shapeKey,\n      area: shape.area,\n      baseScore,\n      placements,\n      placementsByCell: new Map(),\n      remaining: effectiveQuantity,\n      used: 0,\n      // âœ… ìœ ë‹ˆí¬ ì—¬ë¶€ í”Œëž˜ê·¸\n      isUnique,\n    };\n\n    placements.forEach((placement) => {\n      placement.cellIndexes.forEach((index) => {\n        if (!entry.placementsByCell.has(index)) {\n          entry.placementsByCell.set(index, []);\n        }\n        entry.placementsByCell.get(index).push(placement);\n      });\n    });\n\n    piecePool.push(entry);\n  });\n\n  if (!piecePool.length) {\n    return createEmptyResult();\n  }\n\n  // -----------------------------\n  // ê° ì¹¸ì— ì–¹ì„ ìˆ˜ ìžˆëŠ” ê²½ìš°ì˜ ìˆ˜(coverage) ê³„ì‚°\n  // -----------------------------\n  const coverageCounts = new Array(totalCells).fill(0);\n  piecePool.forEach((entry) => {\n    entry.placements.forEach((placement) => {\n      placement.cellIndexes.forEach((index) => {\n        coverageCounts[index] += entry.remaining;\n      });\n    });\n  });\n\n  // -----------------------------\n  // ìˆ˜ì‹ì–´ ë³´ë„ˆìŠ¤ ìž ìž¬ë ¥ ë° ì´ˆê¸° base score í•©ê³„\n  // (ìœ ë‹ˆí¬ëŠ” ìˆ˜ì‹ì–´ê°€ ì—†ìœ¼ë¯€ë¡œ ì œì™¸)\n  // -----------------------------\n  const modifierPotential = {};\n  let unusedBaseScore = 0;\n  piecePool.forEach((entry) => {\n    unusedBaseScore += entry.baseScore * entry.remaining;\n    if (!entry.isUnique) {\n      modifierPotential[entry.modifier] =\n        (modifierPotential[entry.modifier] || 0) + entry.area * entry.remaining;\n    }\n  });\n\n  // í° ëª¨ì–‘, ì ìˆ˜ ë†’ì€ ê²ƒ ìš°ì„  íƒìƒ‰\n  piecePool.sort((a, b) => {\n    if (b.area !== a.area) return b.area - a.area;\n    if (b.baseScore !== a.baseScore) return b.baseScore - a.baseScore;\n    return a.modifier.localeCompare(b.modifier, \"ko-KR\");\n  });\n\n  const modifierTotals = {}; // ì‹¤ì œ ë°°ì¹˜ëœ ìˆ˜ì‹ì–´ë³„ ì¹¸ ìˆ˜\n  const placementsStack = [];\n  let bestResult = createEmptyResult();\n  const visitedStates = new Map();\n\n  const evaluate = (baseScore) => {\n    const { totalBonus, breakdown } = summarizeBonuses(modifierTotals);\n    const totalScore = baseScore + totalBonus;\n    if (totalScore > bestResult.totalScore) {\n      bestResult = {\n        totalScore,\n        baseScore,\n        bonusScore: totalBonus,\n        placements: clonePlacements(placementsStack),\n        bonusBreakdown: breakdown,\n      };\n    }\n  };\n\n  const futureBonusBound = () => {\n    let optimistic = 0;\n    Object.keys(modifierPotential).forEach((modifier) => {\n      const potential = modifierPotential[modifier];\n      if (!potential) return;\n      const placed = modifierTotals[modifier] || 0;\n      const capped = Math.min(placed + potential, 21);\n      optimistic += getBonusFromModifier(capped) - getBonusFromModifier(placed);\n    });\n    return optimistic;\n  };\n\n  const selectTargetBit = (freeMask) => {\n    let bestBit = 0n;\n    let bestScore = Number.POSITIVE_INFINITY;\n    for (let index = 0; index < totalCells; index += 1) {\n      const bit = cellBits[index];\n      if ((freeMask & bit) === 0n) continue;\n      const score = coverageCounts[index];\n      if (score === 0) {\n        // ì•„ë¬´ ì¡°ê°ë„ ëª» ì˜¬ë¦¬ëŠ” ì¹¸ì´ë©´ ê·¸ëƒ¥ ì—¬ê¸°ë¶€í„° ë©”ìš°ê¸°\n        return bit;\n      }\n      if (score < bestScore) {\n        bestScore = score;\n        bestBit = bit;\n        if (score === 1) break;\n      }\n    }\n    // ê·¸ëž˜ë„ ëª» ì°¾ìœ¼ë©´ freeMask ì¤‘ ê°€ìž¥ ë‚®ì€ ë¹„íŠ¸\n    return bestBit || (freeMask & -freeMask);\n  };\n\n  // ------------------------------------\n  // DFS\n  // uniqueUsed: ì§€ê¸ˆê¹Œì§€ ìœ ë‹ˆí¬ë¥¼ ëª‡ ê°œ ì¼ëŠ”ì§€ (0 ë˜ëŠ” 1)\n  // ------------------------------------\n  const dfs = (occupiedMask, baseScore, unusedScore, uniqueUsed = 0, depth = 0) => {\n    const optimisticBonus = futureBonusBound();\n    const optimisticTotal = baseScore + unusedScore + optimisticBonus;\n    if (optimisticTotal <= bestResult.totalScore) {\n      return;\n    }\n\n    // âœ… ìƒíƒœí‚¤ì— uniqueUsed í¬í•¨ (ìœ ë‹ˆí¬ ì‚¬ìš© ì—¬ë¶€ê¹Œì§€ ìƒíƒœë¡œ ë´„)\n    const stateKey = occupiedMask.toString(16) + \"|\" + uniqueUsed;\n    const seenBest = visitedStates.get(stateKey);\n    if (typeof seenBest !== \"undefined\" && optimisticTotal <= seenBest) {\n      return;\n    }\n    visitedStates.set(stateKey, optimisticTotal);\n\n    evaluate(baseScore);\n\n    const freeMask = boardMask & ~occupiedMask;\n    if (freeMask === 0n) {\n      return;\n    }\n\n    const targetBit = selectTargetBit(freeMask);\n    if (targetBit === 0n) {\n      return;\n    }\n\n    const targetIndex = bitToIndex.get(targetBit);\n    if (typeof targetIndex === \"undefined\") {\n      dfs(occupiedMask | targetBit, baseScore, unusedScore, uniqueUsed, depth + 1);\n      return;\n    }\n\n    // ------------------------------------\n    // Option 1: targetIndexë¥¼ í¬í•¨í•˜ëŠ” ì¡°ê°ë“¤ì„ ì‹œë„\n    // ------------------------------------\n    for (let entryIndex = 0; entryIndex < piecePool.length; entryIndex += 1) {\n      const entry = piecePool[entryIndex];\n      if (entry.remaining <= 0) continue;\n\n      // âœ… ìœ ë‹ˆí¬ëŠ” ì „ì—­ì ìœ¼ë¡œ ìµœëŒ€ 1ê°œë§Œ í—ˆìš©\n      if (entry.isUnique && uniqueUsed >= 1) continue;\n\n      const placementList = entry.placementsByCell.get(targetIndex);\n      if (!placementList || !placementList.length) continue;\n\n      for (let i = 0; i < placementList.length; i += 1) {\n        const placement = placementList[i];\n        if ((placement.mask & occupiedMask) !== 0n) continue;\n\n        entry.remaining -= 1;\n        const placementId = `${entry.uid}-${entry.used}`;\n        entry.used += 1;\n\n        if (!entry.isUnique) {\n          // âœ… ìœ ë‹ˆí¬ëŠ” ìˆ˜ì‹ì–´/ë³´ë„ˆìŠ¤ì™€ ë¬´ê´€\n          modifierTotals[entry.modifier] = (modifierTotals[entry.modifier] || 0) + entry.area;\n          modifierPotential[entry.modifier] = Math.max(\n            0,\n            (modifierPotential[entry.modifier] || 0) - entry.area\n          );\n        }\n\n        placementsStack.push({\n          id: placementId,\n          // âœ… ìœ ë‹ˆí¬ëŠ” ìˆ˜ì‹ì–´ ì—†ì´ í‘œê¸°\n          label: entry.isUnique\n            ? `${entry.gradeLabel} Â· ${entry.area}ì¹¸`\n            : `${entry.modifier} Â· ${entry.gradeLabel} Â· ${entry.area}ì¹¸`,\n          grade: entry.grade,\n          modifier: entry.modifier,\n          baseScore: entry.baseScore,\n          shapeKey: entry.shapeKey,\n          cells: placement.cells,\n        });\n\n        const nextOccupied = occupiedMask | placement.mask;\n        const nextBase = baseScore + entry.baseScore;\n        const nextUnused = unusedScore - entry.baseScore;\n\n        if (entry.isUnique) {\n          dfs(nextOccupied, nextBase, nextUnused, uniqueUsed + 1, depth + 1);\n        } else {\n          dfs(nextOccupied, nextBase, nextUnused, uniqueUsed, depth + 1);\n        }\n\n        placementsStack.pop();\n\n        if (!entry.isUnique) {\n          modifierTotals[entry.modifier] -= entry.area;\n          if (modifierTotals[entry.modifier] <= 0) {\n            delete modifierTotals[entry.modifier];\n          }\n          modifierPotential[entry.modifier] =\n            (modifierPotential[entry.modifier] || 0) + entry.area;\n        }\n\n        entry.used -= 1;\n        entry.remaining += 1;\n      }\n    }\n\n    // ------------------------------------\n    // Option 2: ì´ ì¹¸ì€ ë¹„ì›Œë‘ê³  ì§„í–‰\n    // ------------------------------------\n    dfs(occupiedMask | targetBit, baseScore, unusedScore, uniqueUsed, depth + 1);\n  };\n\n  dfs(blockedMask, 0, unusedBaseScore, 0, 0);\n\n  return bestResult;\n};\n","// src/utils/sugar/worker.js\n/* eslint-disable no-restricted-globals */ // ðŸ‘ˆ ì´ ì¤„ì„ ì¶”ê°€í•˜ì—¬ ESLint ê·œì¹™ì„ ë¬´ì‹œ\n\nimport { solveSugarBoard } from \"./solver\";\n\nself.onmessage = function (event) {\n  const { rows, cols, blocked, pieces, role } = event.data;\n\n  const result = solveSugarBoard({\n    rows,\n    cols,\n    blocked,\n    pieces,\n    role,\n  });\n\n  self.postMessage({ result });\n};"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","toPropertyKey","t","i","r","e","toPrimitive","call","TypeError","String","Number","_defineProperty","Object","defineProperty","value","enumerable","configurable","writable","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","apply","_objectSpread2","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","shapes","register","key","matrix","cells","c","row","col","height","width","area","sugarShapes","GRADE_INFO","values","map","shape","label","concat","rare","color","points","maxCells","epic","super_epic","unique","getBonusFromModifier","cellCount","extra","Math","min","floor","solveSugarBoard","_ref2","rows","cols","blocked","pieces","role","totalCells","totalScore","baseScore","bonusScore","placements","bonusBreakdown","bitCache","Array","from","_","bitForCell","BigInt","cellIndexMap","fill","cellBits","bitToIndex","Map","boardMask","blockedMask","index","bit","set","_ref3","placementsCache","piecePool","piece","pieceIndex","quantity","max","shapeKey","gradeInfo","grade","has","get","startRow","startCol","mask","coords","cellIndexes","fits","cell","getPlacementsForShape","isUnique","effectiveQuantity","getPieceBaseScore","info","entry","uid","id","modifier","gradeLabel","placementsByCell","remaining","used","placement","coverageCounts","modifierPotential","unusedBaseScore","sort","a","b","localeCompare","modifierTotals","placementsStack","bestResult","visitedStates","evaluate","totalBonus","breakdown","modifierMap","total","entries","_ref","bonus","summarizeBonuses","p","_objectSpread","dfs","occupiedMask","unusedScore","uniqueUsed","undefined","depth","optimisticTotal","futureBonusBound","optimistic","potential","placed","capped","stateKey","toString","seenBest","freeMask","targetBit","bestBit","bestScore","POSITIVE_INFINITY","score","selectTargetBit","targetIndex","entryIndex","placementList","placementId","nextOccupied","nextBase","nextUnused","pop","self","onmessage","event","data","result","postMessage"],"sourceRoot":""}